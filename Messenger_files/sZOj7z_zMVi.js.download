if (self.CavalryLogger) { CavalryLogger.start_js(["HeVL0"]); }

__d("BoostedPostDialogButtonWrapper.react",["AdsLWIDialogButtonContainer.react","React"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.data;return!c||c.buttonID==null?null:b("React").jsx("span",{id:c.buttonID,children:b("React").jsx(b("AdsLWIDialogButtonContainer.react"),{autoOpenDialog:a.autoOpenDialog,buttonLabel:c.buttonLabel,configData:c.configData,disabled:a.disabled,instanceData:c.instanceData,instanceID:c.instanceID,reactComposerID:c.reactComposerID,showTooltip:c.showTooltip,size:a.size,stopPropagation:a.stopPropagation,onClick:a.onUpsellButtonClick})})}e.exports=a}),null);
__d("XEventsPromoteURIDataController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/events/promote/fetch_button_data/",{event_id:{type:"String",required:!0},action_history:{type:"String",required:!0}})}),null);
__d("XEventsUserSettingsUpdateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/events/updatesettings/",{attributes:{type:"StringToStringMap",defaultValue:{}},id:{type:"Int"}})}),null);
__d("EventPromoteActions.react",["ix","cx","fbt","AsyncRequest","BoostedComponentConstants","BoostedPostDialogButtonWrapper.react","ContextualLayerUpdateOnScroll","EventEmitter","EventPromoteActionsGatingData","EventsActionsLogger","Image.react","PopoverMenu.react","React","ReactLayeredComponentMixin_DEPRECATED","ReactXUIMenu","XBoostedComponentFetchButtonDataController","XEventsPromoteURIDataController","XEventsUserSettingsUpdateController","XUIAmbientNUX.react","XUIButton.react","XUIPopoverButton.react","XUISpinner.react","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("ReactXUIMenu").Item;c=b("React").PropTypes;function a(){return{_emitter:null,UNSAFE_componentWillMount:function(){this._emitter=new(b("EventEmitter"))()},emit:function(a){var b;for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];this._emitter&&(b=this._emitter).emit.apply(b,[a].concat(d))},addListener:function(a,b){this._emitter&&this._emitter.addListener(a,b)},removeAllListeners:function(a){this._emitter&&this._emitter.removeAllListeners(a)}}}d=b("React").createClass({displayName:"EventPromoteActions",mixins:[b("ReactLayeredComponentMixin_DEPRECATED"),a()],propTypes:{actionHistory:c.string.isRequired,boostedButtonData:c.object,boostedButtonPlacement:c.string,eventID:c.string.isRequired,hasNux:c.bool,nuxSeenCount:c.number,pageID:c.string.isRequired,size:c.oneOf(["small","medium","large","xlarge","xxlarge"])},getInitialState:function(){var a=this.props.hasNux&&b("EventPromoteActionsGatingData").showPromoteLinkNux,c=null;this.props.boostedButtonData!==void 0&&(c=babelHelpers["extends"]({},this.props.boostedButtonData,{placement:this.props.boostedButtonPlacement||"event_upsell",boostedButtonType:b("BoostedComponentConstants").BOOSTED_BUTTON_TYPE.VIEW}));return{boostButtonData:c,promoteButtonData:null,showNux:a}},componentDidMount:function(){var a=this;this.addListener("data:boost",function(b){return a.setState({boostButtonData:b})});this.addListener("data:promote",function(b){return a.setState({promoteButtonData:b})});this.loadButtonData()},componentWillUnmount:function(){this.removeAllListeners()},loadButtonData:function(){var a;this._loadBoostButtonData();a=(a=this)!=null?(a=a.state)!=null?(a=a.boostButtonData)!=null?a.placement:a:a:a;if(this.state.boostButtonData&&a==="www_event_composer")return;this._loadPromoteButtonData()},_loadPromoteButtonData:function(){var a=this;if(this.state.promoteButtonData&&this.state.promoteButtonData.canViewerPromote)return;var c=b("XEventsPromoteURIDataController").getURIBuilder().setString("event_id",this.props.eventID).setString("action_history",this.props.actionHistory).getURI();new(b("AsyncRequest"))(c).setHandler(function(b){b={canViewerPromote:b.payload.canViewerPromote,canViewerPromoteTicket:b.payload.canViewerPromoteTicket,canViewerPromoteOnFBTicket:b.payload.canViewerPromoteOnFBTicket,promoteEventURI:b.payload.promoteEventURI,promoteTicketURI:b.payload.promoteTicketURI};a.emit("data:promote",b)}).send()},_loadBoostButtonData:function(){var a=this;if(this.state.boostButtonData&&this.state.boostButtonData.data.configData.context_store_data.is_eligible)return;var c=b("XBoostedComponentFetchButtonDataController").getURIBuilder().setEnum("product","boosted_event").setInt("page_id",this.props.pageID).setInt("post_id",this.props.eventID).setString("ref",this.props.boostedButtonPlacement||"event_upsell").getURI();new(b("AsyncRequest"))(c).setHandler(function(c){var d=c.payload;d={data:{buttonID:d.buttonID,configData:d.configData,displaySection:d.displaySection,instanceData:d.instanceData,instanceID:d.instanceID},placement:c.payload.placement,boostedButtonType:b("BoostedComponentConstants").BOOSTED_BUTTON_TYPE.VIEW};a.emit("data:boost",d)}).send()},_onNuxCloseButtonClick:function(){this.setState({showNux:!1})},_getContextRef:function(){return this.refs.eventPromoteAction},renderLayers:function(){if(!this.state.showNux||!this.refs.eventPromoteAction)return{};var a=this.props.nuxSeenCount?this.props.nuxSeenCount+1:1;a=b("XEventsUserSettingsUpdateController").getURIBuilder().setStringToStringMap("attributes",{insights_promote_link_nux_cnt:String(a)}).getURI();new(b("AsyncRequest"))(a).setMethod("POST").send();return{nux:b("React").jsx(b("XUIAmbientNUX.react"),{behaviors:{ContextualLayerUpdateOnScroll:b("ContextualLayerUpdateOnScroll")},contextRef:this._getContextRef,onCloseButtonClick:this._onNuxCloseButtonClick,shown:!0,alignment:"right",autofocus:!1,position:"below",width:"normal",children:i._("M\u1edbi: Qu\u1ea3ng c\u00e1o s\u1ef1 ki\u1ec7n c\u1ee7a b\u1ea1n \u0111\u1ebfn nhi\u1ec1u ng\u01b0\u1eddi b\u1ea1n quan t\u00e2m h\u01a1n.")})}},_renderMenuItemLabel:function(a,c,d){var e=null,f=null;switch(a){case"tickets":e=g("144488");f=g("141284");break;case"events":default:e=g("143342");f=g("140138");break}return(a=b("React")).jsxs("div",{children:[a.jsxs("div",{className:"_531w",children:[a.jsx(b("Image.react"),{src:e,className:"_t6l"}),a.jsx(b("Image.react"),{src:f,className:"_t6m"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"_531x",children:c}),a.jsx("div",{className:"_531y",children:d})]})]})},_renderBoostButton:function(){var a=this.state.boostButtonData;if(a===null)return b("React").jsx(b("XUISpinner.react"),{background:"light",size:"small"});return!a.data.configData.context_store_data.is_eligible?null:b("React").jsx("div",{className:this.props.className,ref:"eventPromoteAction",children:b("React").jsx(b("BoostedPostDialogButtonWrapper.react"),babelHelpers["extends"]({onUpsellButtonClick:this._onPromoteButtonClick},a,{size:this.props.size||"medium"}))})},_renderPromoteButton:function(){__p&&__p();var a=this.state.promoteButtonData;if(a===null)return b("React").jsx(b("XUISpinner.react"),{background:"light",size:"small"});if(!a.canViewerPromote)return b("React").jsx("div",{});var c=null;if(a.canViewerPromoteTicket||a.canViewerPromoteOnFBTicket){var d=i._("Ti\u1ebfp c\u1eadn nhi\u1ec1u ng\u01b0\u1eddi h\u01a1n"),e=i._("Cho m\u1ecdi ng\u01b0\u1eddi bi\u1ebft v\u1ec1 s\u1ef1 ki\u1ec7n c\u1ee7a b\u1ea1n");d=b("React").jsx(j,{value:b("EventsActionsLogger").Target.PROMOTE_EVENT_ITEM,href:a.promoteEventURI,className:"_531k",children:this._renderMenuItemLabel("events",d,e)});e=null;var f=null;a.canViewerPromoteOnFBTicket?(e=i._("B\u00e1n th\u00eam v\u00e9 tr\u00ean Facebook"),f=i._("Qu\u1ea3ng c\u00e1o v\u00e9 tr\u00ean s\u1ef1 ki\u1ec7n n\u00e0y")):(e=i._("T\u0103ng doanh s\u1ed1 b\u00e1n v\u00e9"),f=i._("Chuy\u1ec3n m\u1ecdi ng\u01b0\u1eddi \u0111\u1ebfn trang web v\u1ec1 v\u00e9 c\u1ee7a b\u1ea1n"));d=b("React").jsxs(b("ReactXUIMenu"),{onItemClick:this._onPromoteItemClick,children:[d,b("React").jsx(j,{value:b("EventsActionsLogger").Target.PROMOTE_TICKET_ITEM,href:a.promoteTicketURI,className:"_531k",children:this._renderMenuItemLabel("tickets",e,f)})]});e=i._("Qu\u1ea3ng c\u00e1o");c=b("React").jsx(b("PopoverMenu.react"),{onClick:this._onPromoteMenuClick,menu:d,alignh:"right",children:b("React").jsx(b("XUIPopoverButton.react"),{haschevron:!0,use:"confirm",label:e})})}else c=b("React").jsx(b("XUIButton.react"),{use:"confirm",href:a.promoteEventURI,onClick:this._onPromoteButtonClick,size:this.props.size,label:i._("Qu\u1ea3ng b\u00e1 s\u1ef1 ki\u1ec7n")});return b("React").jsx("div",{className:this.props.className,ref:"eventPromoteAction",children:c})},render:function(){var a=this._renderBoostButton();return a?a:this._renderPromoteButton()},_onPromoteButtonClick:function(){b("EventsActionsLogger").log(this.props.eventID,{type:b("EventsActionsLogger").Type.CLICK,target:b("EventsActionsLogger").Target.PROMOTE_EVENT_BUTTON,acontext:{action_history:this.props.actionHistory},extraData:{}})},_onPromoteMenuClick:function(){b("EventsActionsLogger").log(this.props.eventID,{type:b("EventsActionsLogger").Type.CLICK,target:b("EventsActionsLogger").Target.PROMOTE_EVENT_MENU,acontext:{action_history:this.props.actionHistory},extraData:{}})},_onPromoteItemClick:function(a,c){b("EventsActionsLogger").log(this.props.eventID,{type:b("EventsActionsLogger").Type.CLICK,target:c.item.getValue(),acontext:{action_history:this.props.actionHistory},extraData:{}})}});e.exports=d}),null);
__d("BoostedPostFamilyDialogButtonWrapper.react",["BoostedComponentAppID","BoostedComponentErrorBoundaryContainer.react","BoostedPostDialogButtonWrapper.react","EventPromoteActions.react","React","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return b("React").jsx(b("BoostedComponentErrorBoundaryContainer.react"),{sectionName:"BoostedPostDialogButtonWrapper",children:b("React").jsx(b("BoostedPostDialogButtonWrapper.react"),{data:a.data,stopPropagation:a.stopPropagation})})}g.defaultProps={stopPropagation:!1};function a(a){__p&&__p();var c=a.data;if(!c||c.boostedComponentAppID==null)return b("React").jsx(g,{data:null,stopPropagation:!1});var d=c.boostedComponentAppID,e=babelHelpers.objectWithoutPropertiesLoose(c,["boostedComponentAppID"]);e=babelHelpers["extends"]({appID:d},e);switch(d){case b("BoostedComponentAppID").BOOSTED_EVENT:d=c.configData;c=b("getByPath")(d,["context_store_data","page_id"]);d=b("getByPath")(d,["context_store_data","target_id"]);return b("React").jsx(b("BoostedComponentErrorBoundaryContainer.react"),{sectionName:"EventPromoteActions",children:b("React").jsx(b("EventPromoteActions.react"),{actionHistory:"{'surface':'page_insight'}",boostedButtonData:a,boostedButtonPlacement:a.placement,eventID:d,pageID:c})});case b("BoostedComponentAppID").BOOSTED_POST:default:return b("React").jsx(g,{data:e,stopPropagation:a.stopPropagation})}}e.exports=a}),null);
__d("PhotoViewState",["ArbiterMixin","PhotoStore","PhotoUtils","mixin"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c,d){__p&&__p();var e;e=a.call(this)||this;d=d||{};e._viewer=b;e._setID=c;e._position=d.position||0;e._preventPreload=d.preventPreload;e._reverse=d.reverse;e._updateCallback=d.updateCallback;e._preloaded={};return e}var d=c.prototype;d._fetchCallback=function(a){if(!this._viewer.isOpen())return;this._preload(a);this._log("data_fetch_complete")};d._preload=function(a){b("PhotoUtils").preload(this._viewer,a,function(a){this._preloaded[b("PhotoUtils").getFBIDFromData(a)]=!0}.bind(this))};d._preloadPhotosInRange=function(a,c){var d=[];for(var a=a;a<=c;++a){var e=b("PhotoStore").getByIndexImmediate(this._setID,a);e&&!this._isPreloaded(e)&&d.push(e)}this._preload(d)};d._isPreloaded=function(a){return this._preloaded[b("PhotoUtils").getFBIDFromData(a)]};d.getPosition=function(){return this._position};d.isValidMovement=function(a){if(!b("PhotoStore").hasBeenCreated(this._setID))return!1;if(b("PhotoStore").hasLooped(this._setID))return!0;a=this._position+a;var c=b("PhotoStore").getAvailableRange(this._setID),d=c.offset+c.length-1;return a>=c.offset-1&&a<=d+1};d.getRelativeMovement=function(a){return b("PhotoStore").getIndexForID(this._setID,a)-this._position};d.moveCursor=function(a){if(!this.isValidMovement(a))return!1;this._position+=a;return!0};d._page=function(a){if(!this.moveCursor(a))return;this._log("page_begin");var d=b("PhotoStore").getByIndexImmediate(this._setID,this._position);!d?(this.inform("photo_fetch"),this._log("photo_fetch")):this._isPreloaded(d)||this._preload([d]);b("PhotoStore").getByIndex(this._setID,this._position,this._updateCallback);this._loadMoreIfNecessary(a>0,c.BUFFER_SIZE);this._log("page_complete")};d.loadMoreForwardIfNecessary=function(a){__p&&__p();if(this._preventPreload)return;var c=b("PhotoStore").getAvailableRange(this._setID);c=c.offset+c.length-1;var d=this._position+a;if(d>c&&!b("PhotoStore").hasLooped(this._setID)){c=b("PhotoStore").getCursorByIndexImmediate(this._setID,c);b("PhotoStore").fetchForward(this._setID,c,a,this._fetchCallback.bind(this))}else this._preloadPhotosInRange(this._position+1,d)};d.loadMoreBackwardIfNecessary=function(a){if(this._preventPreload)return;var c=b("PhotoStore").getAvailableRange(this._setID),d=this._position-a;if(d<c.offset&&!b("PhotoStore").hasLooped(this._setID)){c=b("PhotoStore").getCursorByIndexImmediate(this._setID,c.offset);b("PhotoStore").fetchBackward(this._setID,c,a,this._fetchCallback.bind(this))}else this._preloadPhotosInRange(d,this._position-1)};d._loadMoreIfNecessary=function(a,b){a?this.loadMoreForwardIfNecessary(b):this.loadMoreBackwardIfNecessary(b)};d.displayFirst=function(){if(!this._viewer.isOpen())return;b("PhotoStore").setPreFetchCallback(this._setID,function(){this._log("data_fetch_begin")}.bind(this));var a=function(a){this._isPreloaded(a)||this._preload([a]),this._updateCallback&&this._updateCallback(a)}.bind(this);b("PhotoStore").getByIndex(this._setID,this._position,a);this._reverse?this.loadMoreBackwardIfNecessary(c.BUFFER_SIZE):this.loadMoreForwardIfNecessary(c.BUFFER_SIZE)};d.backward=function(){this._page(this._reverse?1:-1)};d.forward=function(){this._page(this._reverse?-1:1)};d._log=function(a){this._viewer.log(a)};return c}(b("mixin")(b("ArbiterMixin")));Object.assign(a,{BUFFER_SIZE:4});e.exports=a}),null);
__d("SpotlightViewerClose",["cx","fbt","React","TooltipLink.react","emptyFunction","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=b("React").PropTypes;c=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.position=="left"?"_5wx3":"_5wx4",c=b("React").jsx("span",{children:h._("Nh\u1ea5n Esc \u0111\u1ec3 \u0111\u00f3ng")});return b("React").jsx(b("TooltipLink.react"),{className:b("joinClasses")("_4-o9 _50-m _51an",a,this.props.isFixed?"_2chv":""),onClick:this.props.onClick,onKeyPress:this.props.onKeyPress,tooltip:c,tabIndex:"0"})};return c}(b("React").Component);c.propTypes={position:a.oneOf(["left","right"]),isFixed:a.bool,onKeyPress:a.func};c.defaultProps={position:"right",isFixed:!1,onKeyPress:b("emptyFunction")};e.exports=c}),null);
__d("SpotlightViewerCoreMixin",["PhotoLogger","PhotoStore","PhotoUtils","PhotoViewState","React","SpotlightViewerImage"],(function(a,b,c,d,e,f){__p&&__p();a={_displayFirstPhoto:function(){b("PhotoStore").executePostCreate(this.props.setid,this.viewState.displayFirst.bind(this.viewState))},_getInitialPosition:function(){var a;this.props.clearcache||(a=b("PhotoStore").getIndexForID(this.props.setid,this.props.photoid));a===void 0&&(b("PhotoStore").clearSetCache(this.props.setid),a=0);return a},__displayPhoto:function(){var a=this._getInitialPosition();this.viewState=new(b("PhotoViewState"))(this,this.props.setid,{position:a,preventPreload:this.__shouldPreventPhotoPreload,reverse:this.props.reverse,updateCallback:this._updatePhoto});this.inform("open");this._displayFirstPhoto()},UNSAFE_componentWillMount:function(){this._logger=new(b("PhotoLogger"))(this.getViewerID()),this.log("open_begin"),this.__displayPhoto()},componentDidMount:function(){this._enableSubscriptions&&this._enableSubscriptions(),this.log("open_complete")},isOpen:function(){return this.state.open},close:function(){if(!this.isOpen())return;this.log("close_begin");this.setState({open:!1},function(){this.inform("close"),this.log("close_complete")})},componentWillUnmount:function(){this.viewState=null},_onClickViewport:function(a){a?this.viewState.forward():this.viewState.backward()},_getMedia:function(a,c){return b("React").jsx(b("SpotlightViewerImage"),{ref:"image",src:a.uri,dimensions:c.imageDimensions})},_getCurrentFBID:function(){return b("PhotoUtils").getFBIDFromData(this.state.photoData)},_updatePhoto:function(a){this.log("photo_change_begin"),this.setState({photoData:a},function(){this.inform("photo_change",this.state.photoData),this.log("photo_change_complete")})},getLogger:function(){return this._logger},log:function(a){this._logger&&this._logger.logEvent(a)}};e.exports=a}),null);
__d("PhotoViewerDimensions",["Event","PhotoUtils","Vector"],(function(a,b,c,d,e,f){__p&&__p();var g={verticalPadding:"number",horizontalPadding:"number",normalResDim:"object"};a=function(){"use strict";__p&&__p();function a(a){__p&&__p();this._verticalPadding=40;this._horizontalPadding=60;this._normalResDim={x:960,y:960};this._photoStripHeight=88;for(var c in a){if(!g[c])throw new Error("Unsupported extraData value '"+c+"' should not be used");typeof a[c]===g[c]&&(this["_"+c]=a[c])}this._listener=b("Event").listen(window,"resize",this._resetMaxStageDimensions.bind(this))}var c=a.prototype;c.destroy=function(){this._listener.remove()};c.getStageDimensions=function(a){var c=this.getMaxStageDimensions();c=new(b("Vector"))(Math.min(a.x,c.x),Math.min(a.y,c.y));var d=c.x/c.y;a=a.x/a.y;d<a?c.y=Math.round(c.x/a):c.x=Math.round(c.y*a);return c};c.getImageDimensionsForStage=function(a,c){var d=a.x;a=a.y;var e=c.x;c=c.y;if(d>=e||a>=c){var f=d/a,g=e/c;g<f?(d=e,a=Math.round(e/f)):g>f?(d=Math.round(c*f),a=c):(d=e,a=c)}return new(b("Vector"))(d,a)};c.getImageDimensionsForMaxStage=function(a,c){var d=a.x;a=a.y;var e=c.x;c=c.y-this._photoStripHeight;var f=d/a,g=e/c;d>=e||a>=c?g<f?(d=e,a=Math.round(e/f)):g>f?(d=Math.round(c*f),a=c):(d=e,a=c):f<g?d=Math.round(a*f):a=Math.round(d/f);return new(b("Vector"))(d,a)};c.getMaxStageDimensions=function(){this._maxStageDimensions||(this._maxStageDimensions=new(b("Vector"))(b("Vector").getViewportDimensions().x-this._horizontalPadding,b("Vector").getViewportDimensions().y-this._verticalPadding));return this._maxStageDimensions};c.getMaxStageDimensionsWithoutPadding=function(){this._maxStageDimensions||(this._maxStageDimensions=new(b("Vector"))(b("Vector").getViewportDimensions().x,b("Vector").getViewportDimensions().y));return this._maxStageDimensions};c._resetMaxStageDimensions=function(){this._maxStageDimensions=null};c.getBestFitImageFromPhoto=function(a,c){var d=null;a=b("PhotoUtils").getImagesFromData(a);a=a.sort(function(a,b){return b.width-a.width});window.devicePixelRatio&&window.devicePixelRatio>1&&(c=new(b("Vector"))(c.x*window.devicePixelRatio,c.y*window.devicePixelRatio));for(var e=0;e<a.length;e++)(!d||a[e].width>=c.x||a[e].height>=c.y)&&(d=a[e]);return d};c.getOriginalDimensionsFromPhoto=function(a){a=b("PhotoUtils").getOriginalImageFromData(a);return new(b("Vector"))(a.width,a.height)};c.getBestFitDimensionsFromPhoto=function(a,c){a=this.getBestFitImageFromPhoto(a,c);return new(b("Vector"))(a.width,a.height)};c.getVerticalPadding=function(){return this._verticalPadding};c.getHorizontalPadding=function(){return this._horizontalPadding};return a}();e.exports=a}),null);
__d("SpotlightViewerStageResizer",["Event","MessengerEnvironment","SubscriptionsHandler","Vector"],(function(a,b,c,d,e,f){__p&&__p();var g=520;a=function(){"use strict";__p&&__p();function a(a,c){this._subscriptionsHandler=new(b("SubscriptionsHandler"))(),this._subscriptionsHandler.addSubscriptions(b("Event").listen(window,"resize",this._resetStageDimensions.bind(this))),this._dimensions=a,this._minHeight=c.minHeight||g,this._minWidth=c.minWidth||g,this._resetStageDimensions()}var c=a.prototype;c.destroy=function(){this._dimensions=null,this._subscriptionsHandler.release()};c._resetStageDimensions=function(){this._currentStageDimensions=new(b("Vector"))(this._minWidth,this._minHeight)};c.getImageAndStageDimensions=function(a){a=this._dimensions.getBestFitDimensionsFromPhoto(a,this._dimensions.getMaxStageDimensions());var c=b("MessengerEnvironment").messengerui?this._dimensions.getMaxStageDimensionsWithoutPadding(a):this._dimensions.getStageDimensions(a);this._currentStageDimensions=new(b("Vector"))(Math.max(c.x,this._minWidth,this._currentStageDimensions.x),Math.max(c.y,this._minHeight,this._currentStageDimensions.y));c=b("MessengerEnvironment").messengerui?this._dimensions.getImageDimensionsForMaxStage(a,this._currentStageDimensions):this._dimensions.getImageDimensionsForStage(a,this._currentStageDimensions);return{stageDimensions:this._currentStageDimensions,imageDimensions:c}};c.getCurrentStageDimensions=function(){return this._currentStageDimensions};return a}();e.exports=a}),null);
__d("SpotlightViewerDimensionMixin",["MessengerEnvironment","PhotoViewerDimensions","SpotlightViewerStageResizer"],(function(a,b,c,d,e,f){__p&&__p();a={getInitialState:function(){this._dimensions=new(b("PhotoViewerDimensions"))({verticalPadding:this.props.verticalPadding,horizontalPadding:this.props.horizontalPadding});this._resizer=new(b("SpotlightViewerStageResizer"))(this._dimensions,{minHeight:this.props.minHeight,minWidth:this.props.minWidth});return{maxStageDimensions:b("MessengerEnvironment").messengerui?this._dimensions.getMaxStageDimensionsWithoutPadding():this._dimensions.getMaxStageDimensions()}},componentWillUnmount:function(){this._resizer&&this._resizer.destroy(),this._resizer=null,this._dimensions&&this._dimensions.destroy(),this._dimensions=null},getMedia:function(){if(this.state.photoData){if(this.state.photoData.__typename&&this.state.photoData.__typename==="MessageVideo")return this._getVideo();var a=this._resizer.getImageAndStageDimensions(this.state.photoData),b=this._dimensions.getBestFitImageFromPhoto(this.state.photoData,this.state.maxStageDimensions);return this._getMedia(b,a)}else return null},getDimensions:function(){return this._dimensions},getStageDimensions:function(){if(this.state.photoData)return this._resizer.getImageAndStageDimensions(this.state.photoData).stageDimensions;else return b("MessengerEnvironment").messengerui?this._dimensions.getMaxStageDimensionsWithoutPadding():this._dimensions.getMaxStageDimensions()},getImageDimensions:function(){return!this.state.photoData?null:this._resizer.getImageAndStageDimensions(this.state.photoData).imageDimensions},onResize:function(){if(b("MessengerEnvironment").messengerui){var a=this._dimensions.getMaxStageDimensionsWithoutPadding();this.setState({maxStageDimensions:a,width:a.x})}else this.setState({maxStageDimensions:this._dimensions.getMaxStageDimensions()})}};e.exports=a}),null);
__d("SpotlightViewerThumbnailMixin",["PhotoStore","Vector"],(function(a,b,c,d,e,f){__p&&__p();a={_getInitialPhotoData:function(){var a=b("PhotoStore").getIndexForID(this.props.setid,this.props.photoid);a=b("PhotoStore").getByIndexImmediate(this.props.setid,a);return a?a:this._getThumbnailPhotoData()},_getThumbnailPhotoData:function(){if(!this.props.dimensions||!this.props.thumbsrc)return null;var a={id:this.props.photoid};for(var c=0;c<this.props.dimensions.length;++c){var d=b("Vector").deserialize(this.props.dimensions[c]);a["image"+c]={width:d.x,height:d.y,uri:this.props.thumbsrc}}return a}};e.exports=a}),null);
__d("VideoComponentAutoPlayControl.react",["FeedVideoPlayerController","React","VideoAutoplayControllerX","VideoComponent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.enable=function(a){var c={controller:a,startsMuted:this.props.startMuted,viewport_autoplay:!0,video_ids:[a.getVideoID()]};a={video_container:a.getVideoNode()};this.$1=new(b("FeedVideoPlayerController"))(a,c);this.$2=b("VideoAutoplayControllerX").registerVideoUnit(this.$1)};d.disable=function(){this.$2()};d.shouldComponentUpdate=function(){return!1};d.render=function(){return null};return c}(b("React").Component);a.defaultProps={startMuted:!0};e.exports=b("VideoComponent").createContainer(a)}),null);
__d("d3-old/time/hour",["d3-old/time/interval","d3-old/time/time"],(function(a,b,c,d,e,f){a=b("d3-old/time/interval")._interval;c=a(function(a){var c=a.getTimezoneOffset()/60;return new(b("d3-old/time/time")._time)((Math.floor(a/36e5-c)+c)*36e5)},function(a,b){a.setTime(a.getTime()+Math.floor(b)*36e5)},function(a){return a.getHours()});c.s=c.range;c.s.utc=c.utc.range;e.exports=c}),null);
__d("d3-old/time/minute",["d3-old/time/interval","d3-old/time/time"],(function(a,b,c,d,e,f){a=b("d3-old/time/interval")._interval;c=a(function(a){return new(b("d3-old/time/time")._time)(Math.floor(a/6e4)*6e4)},function(a,b){a.setTime(a.getTime()+Math.floor(b)*6e4)},function(a){return a.getMinutes()});c.s=c.range;c.s.utc=c.utc.range;e.exports=c}),null);
__d("d3-old/time/month",["d3-old/time/day","d3-old/time/interval"],(function(a,b,c,d,e,f){__p&&__p();a=b("d3-old/time/interval")._interval;c=a(function(a){a=b("d3-old/time/day")(a);a.setDate(1);return a},function(a,b){a.setMonth(a.getMonth()+b)},function(a){return a.getMonth()});c.s=c.range;c.s.utc=c.utc.range;e.exports=c}),null);
__d("d3-old/time/second",["d3-old/time/interval","d3-old/time/time"],(function(a,b,c,d,e,f){a=b("d3-old/time/interval")._interval;c=a(function(a){return new(b("d3-old/time/time")._time)(Math.floor(a/1e3)*1e3)},function(a,b){a.setTime(a.getTime()+Math.floor(b)*1e3)},function(a){return a.getSeconds()});c.s=c.range;c.s.utc=c.utc.range;e.exports=c}),null);
__d("getSquiggleImgURL",[],(function(a,b,c,d,e,f){"use strict";function g(a){return'<svg fill="'+a+'" opacity="0.8" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 10 2.8"><path d="M10,0.7L9.7,1C8.4,2,6.6,2,5.3,1C3.8-0.3,1.6-0.3,0,0.8V2l0.3-0.2c1.3-1,3.1-1,4.4,0c0.8,0.7,1.8,1,2.8,1C8.4,2.8,9.2,2.5,10,2V0.7z"/></svg>'}function h(a){return'<svg fill="'+a+'" opacity="0.8" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 10 3.8"><path d="M10,0.6L9.4,1.1C8.3,2,6.7,2,5.6,1.1C4-0.2,1.8-0.3,0,0.7v2.5l0.6-0.5c1.1-0.9,2.6-0.9,3.8,0c0.9,0.7,2,1.1,3.1,1.1c0.9,0,1.7-0.2,2.5-0.7V0.6z"/></svg>'}function a(a,b){return"'data:image/svg+xml;utf8,"+(b?h(a):g(a))+"'"}e.exports=a}),null);
__d("SpectrumStyle",[],(function(a,b,c,d,e,f){a={BLUE_HOVER:"rgba(113, 137, 174, 0.3)",BLUE:"#B1BDD6",BLUE2:"#899BC1",BLUE3:"#95A5D0",BLUE4:"#3C6399",BLUE_BRUSH:"rgba(58, 96, 149, 0.08)",BRIGHT_BLUE:"#5890FF",BOLD_BLUE:"#627AAD",DARK_BLUE:"#23355B",FB_BLUE:"#3B5998",LIGHT_BLUE:"#C5CEE0",LIGHT_BLUE2:"#9DACCB",LIGHT_BLUE3:"#D7DAE7",LAVENDER:"#9C7AB3",TROUT:"#4E5665",CASPER:"#ABB7CF",COBALT:"#9DACCB",COBALT2:"#758AB7",COBALT3:"#7F96C7",GRAY:"#ADB3BC",LIGHT_GRAY:"#E5E5E5",MAUVE:"#D094AB",MAUVE2:"#DEB5C5",ORANGE:"#F79600",ORANGE_BRUSH:"rgba(242, 100, 52, 0.14)",LIGHT_ORANGE:"#FFCA87",PINK:"#DE8585",DEEP_PURPLE:"#705781",PURPLE:"#BC7F96",PURPLE2:"#B7758F",PURPLE3:"#925E73",PURPLE4:"#98677D",PURPLE5:"#B36D88",PURPLE6:"#B194C2",LIGHT_GREEN:"#F0EEC4",DARK_RED:"#D44040",SALMON:"#DA7878",BROWN:"#892A2A",BEIGE:"#C9B4A0",DUCKEGG:"#BFDBC6",TAN:"#E8C595",VIOLET:"#865EA1",FONT_FAMILY:["'helvetica neue'","helvetica","arial","'lucida grande'","tahoma","verdana","sans-serif"].join(","),FONT_SIZE_TINY:10,FONT_SIZE_SMALL:12,BREAKDOWN_COLORS:[],BUTTERFLY_COLORS:[],BUTTERFLY_LABEL:""};a.BREAKDOWN_COLORS=[a.COBALT3,a.LIGHT_BLUE3,a.PURPLE6,a.LIGHT_GREEN,a.CASPER,a.TAN,a.DUCKEGG,a.GRAY,a.MAUVE,a.BEIGE];a.BUTTERFLY_COLORS=[a.LIGHT_GRAY,a.BLUE2,a.LIGHT_GRAY,a.BLUE4];a.BUTTERFLY_LABEL=a.TROUT;e.exports=a}),null);
__d("XArticleContextMainDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/feed/article_context/dialog/",{share_id:{type:"String",required:!0},entry_type:{type:"Enum",required:!0,enumType:1},trigger_log_id:{type:"String"},ft_msg:{type:"String"},__asyncDialog:{type:"Int"}})}),null);